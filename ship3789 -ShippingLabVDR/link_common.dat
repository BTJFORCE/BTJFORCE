#DISPLAY <$ships/ship/ship3789/link_common.dat    20111219 jko>
##
##LIST ON 
## ---------------------------------------------------------------------- 
## Purpose: Create links for variables that are not message variables.
##          Links to/from message variables are found in ncs_dmi_com.lod
## 
## Prepared for: Common devices i.e.
##		 - Engines (6)
## 		 - Combinators (6)
## 		 - Start air accumulators (6)
##		 - Bow/stern thrusters (4+4)
##		 - Auto-pilot
##		 - Anchors
##		 - Fender forces
##		 - Short banks
##		 - Simplistic waves
##		 - Failures
##		 - Damage
##		
## Latest update: 091130, ka/jko
##              20100701, jko
##
## ---------------------------------------------------------------------- 
##LIST OFF 
##
##          1ST POD
##          ==========
##
TO   DETAILED ENGINE     GROUP 1 DEVICE 1 NAME REV-COMMAND
 FROM DETAILED COMBINATOR GROUP 1 DEVICE 1 NAME REVOLUTION-COMMAND
TO   DETAILED ENGINE     GROUP 1 DEVICE 1 VARIABLE RDPOW
  FROM MSM VARIABLE +0 ENGPR
SUMMA-TO   MSM VAR FUCRS
 FROM DETAILED ENGINE     GROUP 1 DEVICE 1 VARIABLE FUELR
##
##
##          2ND POD
##          ===========
##
TO   DETAILED ENGINE      GROUP 1 DEVICE 1 VARIABLE +1 RVNCM
 FROM DETAILED COMBINATOR GROUP 1 DEVICE 2 NAME REVOLUTION-COMMAND
TO   DETAILED ENGINE     GROUP 1 DEVICE 2 VARIABLE RDPOW
  FROM MSM VARIABLE +1 ENGPR
SUMMA-TO   MSM VAR FUCRS 
 FROM DETAILED ENGINE     GROUP 1 DEVICE 1 VARIABLE +1 FUELR
##
##
##          Propeller
##          ===========
##
TO   DETAILED ENGINE      GROUP 1 DEVICE 2 NAME REV-COMMAND
 FROM DETAILED COMBINATOR GROUP 1 DEVICE 3 NAME REVOLUTION-COMMAND
FROM DETAILED COMBINATOR GROUP 1 DEVICE 3 NAME HANDLE-STATUS
 TO   MSM VAR  +0 NOTST
TO   DETAILED ENGINE     GROUP 1 DEVICE 2 VARIABLE RDPOW
  FROM MSM VARIABLE +2 ENGPR
SUMMA-TO   MSM VAR FUCRS 
 FROM DETAILED ENGINE     GROUP 1 DEVICE 2 VARIABLE FUELR
##
##
##         COMBINATOR
##         ==========
##
## First combinator mode used for all combinators, up to 6
FROM MSM VARIABLE +0 COMMO
  TO MSM VARIABLE +1 COMMO
FROM MSM VARIABLE +0 COMMO
  TO MSM VARIABLE +2 COMMO
FROM MSM VARIABLE +0 COMMO
  TO MSM VARIABLE +3 COMMO
FROM MSM VARIABLE +0 COMMO
  TO MSM VARIABLE +4 COMMO
FROM MSM VARIABLE +0 COMMO
  TO MSM VARIABLE +5 COMMO
##
## Engine Clutch, only third variable -> second engine
#skip on
FROM MSM VARIABLE +0 ENCLT
  TO DETAILED COMBINATOR GROUP 1 DEVICE 1 VARIABLE CLTCH
FROM MSM VARIABLE +1 ENCLT
  TO DETAILED COMBINATOR GROUP 1 DEVICE 2 VARIABLE CLTCH
#skip off
FROM MSM VARIABLE +2 ENCLT
  TO DETAILED COMBINATOR GROUP 1 DEVICE 3 VARIABLE CLTCH
FROM MSM VARIABLE +3 ENCLT
  TO DETAILED COMBINATOR GROUP 1 DEVICE 4 VARIABLE CLTCH
FROM MSM VARIABLE +4 ENCLT
  TO DETAILED COMBINATOR GROUP 1 DEVICE 5 VARIABLE CLTCH
FROM MSM VARIABLE +5 ENCLT
  TO DETAILED COMBINATOR GROUP 1 DEVICE 6 VARIABLE CLTCH
##
##          START-AIR ACCUMULATORS
##          ======================
##
SUMMA-TO DETAILED ACCUMULATOR GROUP 1 DEVICE 1 NAME USER-RATE
 FROM  DETAILED ENGINE         GROUP 1 DEVICE 1 VARIABLE +0 STRAA
##
FROM  DETAILED ACCUMULATOR    GROUP 1 DEVICE 1 NAME CHARGE-STATUS
 TO    DETAILED ENGINE         GROUP 1 DEVICE 1 VARIABLE +0 ACPRA
##
SUMMA-TO DETAILED ACCUMULATOR GROUP 1 DEVICE 1 NAME USER-RATE
 FROM  DETAILED ENGINE         GROUP 1 DEVICE 1 VARIABLE +1 STRAA
##
FROM  DETAILED ACCUMULATOR    GROUP 1 DEVICE 1 NAME CHARGE-STATUS
 TO    DETAILED ENGINE         GROUP 1 DEVICE 1 VARIABLE +1 ACPRA
##
SUMMA-TO DETAILED ACCUMULATOR GROUP 1 DEVICE 1 NAME USER-RATE
 FROM  DETAILED ENGINE         GROUP 1 DEVICE 2 NAME START-RATE
##
FROM  DETAILED ACCUMULATOR    GROUP 1 DEVICE 1 NAME CHARGE-STATUS
 TO    DETAILED ENGINE         GROUP 1 DEVICE 2 NAME TANK-PRESSURE
##
##
##
##          THRUSTERS
##          =========
##
## Thruster status. BTHRS and STHRS can hold up to 2 thrusters each
##
TO   MSM VARIABLE +0 BTHRS ## 1st fore thruster
 FROM DETAILED THRUSTER GROUP 1 DEVICE 1 VARIABLE +1 THRFR
##
TO   MSM VARIABLE +1 BTHRS ## 2nd fore thruster
 FROM DETAILED THRUSTER GROUP 1 DEVICE 2 VARIABLE +1 THRFR
##
TO   MSM VARIABLE +0 STHRS ## 1st aft thruster
 FROM DETAILED THRUSTER GROUP 1 DEVICE 5 VARIABLE +1 THRFR
##
TO   MSM VARIABLE +1 STHRS ## 2nd aft thruster
 FROM DETAILED THRUSTER GROUP 1 DEVICE 6 VARIABLE +1 THRFR
##
##
##         ANCHORS 
##         =======
##
## Math model 801
## ANPOS = ANCPOS
##
FROM DETAILED ANCHOR GROUP 1 DEVICE 1 VARIABLE +0 ANCPOS
TO MSM VARIABLE +0 ANPOS

FROM DETAILED ANCHOR GROUP 1 DEVICE 1 VARIABLE +1 ANCPOS
TO MSM VARIABLE +1 ANPOS

FROM DETAILED ANCHOR GROUP 1 DEVICE 1 VARIABLE +2 ANCPOS
TO MSM VARIABLE +2 ANPOS

##FROM DETAILED ANCHOR GROUP 1 DEVICE 1 VARIABLE +3 ANCPOS
##TO MSM VARIABLE +3 ANPOS
##
##FROM DETAILED ANCHOR GROUP 1 DEVICE 1 VARIABLE +4 ANCPOS
##TO MSM VARIABLE +4 ANPOS
##
##FROM DETAILED ANCHOR GROUP 1 DEVICE 1 VARIABLE +5 ANCPOS
##TO MSM VARIABLE +5 ANPOS

FROM DETAILED ANCHOR GROUP 1 DEVICE 2 VARIABLE +0 ANCPOS
TO MSM VARIABLE +6 ANPOS

FROM DETAILED ANCHOR GROUP 1 DEVICE 2 VARIABLE +1 ANCPOS
TO MSM VARIABLE +7 ANPOS

FROM DETAILED ANCHOR GROUP 1 DEVICE 2 VARIABLE +2 ANCPOS
TO MSM VARIABLE +8 ANPOS

##FROM DETAILED ANCHOR GROUP 1 DEVICE 2 VARIABLE +3 ANCPOS
##TO MSM VARIABLE +9 ANPOS
##
##FROM DETAILED ANCHOR GROUP 1 DEVICE 2 VARIABLE +4 ANCPOS
##TO MSM VARIABLE +10 ANPOS
##
##FROM DETAILED ANCHOR GROUP 1 DEVICE 2 VARIABLE +5 ANCPOS
##TO MSM VARIABLE +11 ANPOS

FROM DETAILED ANCHOR GROUP 1 DEVICE 3 VARIABLE +0 ANCPOS
TO MSM VARIABLE +0 ANPO1

FROM DETAILED ANCHOR GROUP 1 DEVICE 3 VARIABLE +1 ANCPOS
TO MSM VARIABLE +1 ANPO1

FROM DETAILED ANCHOR GROUP 1 DEVICE 3 VARIABLE +2 ANCPOS
TO MSM VARIABLE +2 ANPO1

##FROM DETAILED ANCHOR GROUP 1 DEVICE 3 VARIABLE +3 ANCPOS
##TO MSM VARIABLE +3 ANPO1
##
##FROM DETAILED ANCHOR GROUP 1 DEVICE 3 VARIABLE +4 ANCPOS
##TO MSM VARIABLE +4 ANPO1
##
##FROM DETAILED ANCHOR GROUP 1 DEVICE 3 VARIABLE +5 ANCPOS
##TO MSM VARIABLE +5 ANPO1

FROM DETAILED ANCHOR GROUP 1 DEVICE 4 VARIABLE +0 ANCPOS
TO MSM VARIABLE +6 ANPO1

FROM DETAILED ANCHOR GROUP 1 DEVICE 4 VARIABLE +1 ANCPOS
TO MSM VARIABLE +7 ANPO1

FROM DETAILED ANCHOR GROUP 1 DEVICE 4 VARIABLE +2 ANCPOS
TO MSM VARIABLE +8 ANPO1

##FROM DETAILED ANCHOR GROUP 1 DEVICE 4 VARIABLE +3 ANCPOS
##TO MSM VARIABLE +9 ANPO1
##
##FROM DETAILED ANCHOR GROUP 1 DEVICE 4 VARIABLE +4 ANCPOS
##TO MSM VARIABLE +10 ANPO1
##
##FROM DETAILED ANCHOR GROUP 1 DEVICE 4 VARIABLE +5 ANCPOS
##TO MSM VARIABLE +11 ANPO1
##
##
##          FENDER-FORCES
##          =============
## only Land Fender device
##
TO MSM VARIABLE +0 FNDFO
  FROM DETAILED FENDER-FORCE GROUP 1 DEVICE 1 VARIABLE +0 FENFO
TO MSM VARIABLE +1 FNDFO
  FROM DETAILED FENDER-FORCE GROUP 1 DEVICE 1 VARIABLE +1 FENFO
TO MSM VARIABLE +2 FNDFO
  FROM DETAILED FENDER-FORCE GROUP 1 DEVICE 1 VARIABLE +2 FENFO
TO MSM VARIABLE +3 FNDFO
  FROM DETAILED FENDER-FORCE GROUP 1 DEVICE 1 VARIABLE +3 FENFO
TO MSM VARIABLE +4 FNDFO
  FROM DETAILED FENDER-FORCE GROUP 1 DEVICE 1 VARIABLE +4 FENFO
TO MSM VARIABLE +5 FNDFO
  FROM DETAILED FENDER-FORCE GROUP 1 DEVICE 1 VARIABLE +5 FENFO
##
##
##          SHORT BANKS
##          ===========
##
## Note: Short-banks links do NOT apply for azimuthing propellers
## nor for Voith-Schneider propellers. For conventional proppellers
## the thrust direction is fixed, but this is not true  for azimuthing
## propellers. Since ShortBanks mathematical model is not designed for
## this, we avoid problems by avoiding links from azi and VS propeller
## devices.
##
TO DETAILED SHORT-BANK GROUP 1 DEVICE 1 VAR +0  CT1
FROM DETAILED RUDDER-PROP GROUP 1 DEVICE 1 VARIABLE CTEX
##
TO DETAILED SHORT-BANK GROUP 1 DEVICE 1 VAR +0  PRTH1
FROM DETAILED RUDDER-PROP GROUP 1 DEVICE 1 VARIABLE THRST
##
TO DETAILED SHORT-BANK GROUP 1 DEVICE 1 VAR +0  CT2
FROM DETAILED RUDDER-PROP GROUP 1 DEVICE 2 VARIABLE CTEX 
##
TO DETAILED SHORT-BANK GROUP 1 DEVICE 1 VAR +0  PRTH2
FROM DETAILED RUDDER-PROP GROUP 1 DEVICE 2 VARIABLE THRST
##
TO DETAILED SHORT-BANK GROUP 1 DEVICE 1 VAR +0  CT3
FROM DETAILED RUDDER-PROP GROUP 1 DEVICE 3 VARIABLE CTEX
##
TO DETAILED SHORT-BANK GROUP 1 DEVICE 1 VAR +0  PRTH3
FROM DETAILED RUDDER-PROP GROUP 1 DEVICE 3 VARIABLE THRST
##
##
##         SIMPLISTIC WAVES 
##         =================
TO MSM VARIABLE +0 SWIM
  FROM DETAILED WAVES-SIMPLISTIC GROUP 1 DEVICE 1 NAME WSSUR
TO MSM VARIABLE +1 SWIM
  FROM DETAILED WAVES-SIMPLISTIC GROUP 1 DEVICE 1 NAME WSSWA
TO MSM VARIABLE +2 SWIM
  FROM DETAILED WAVES-SIMPLISTIC GROUP 1 DEVICE 1 NAME WSHEV
TO MSM VARIABLE +3 SWIM
  FROM DETAILED WAVES-SIMPLISTIC GROUP 1 DEVICE 1 NAME WSROL
TO MSM VARIABLE +4 SWIM
  FROM DETAILED WAVES-SIMPLISTIC GROUP 1 DEVICE 1 NAME WSPIT
TO MSM VARIABLE +5 SWIM
  FROM DETAILED WAVES-SIMPLISTIC GROUP 1 DEVICE 1 NAME WSYAW
##
##
##          FAILURES
##          ========
##
## May be linked to several devices, thus here instead of ncs_dmi_com.lod
## Propulsion unit failure. These links may be obsolete, see description 
## in MSG250_DEF.failure[MXPRU]
##
## Failure flags, Azi-prop
FROM MSM VARIABLE +0 PUFAI
  TO DETAILED AZI-PROPELLER GROUP 1 DEVICE 1 VARIABLE FAILR
FROM MSM VARIABLE +1 PUFAI
  TO DETAILED AZI-PROPELLER GROUP 1 DEVICE 2 VARIABLE FAILR
FROM MSM VARIABLE +2 PUFAI
  TO DETAILED AZI-PROPELLER GROUP 1 DEVICE 3 VARIABLE FAILR
FROM MSM VARIABLE +3 PUFAI
  TO DETAILED AZI-PROPELLER GROUP 1 DEVICE 4 VARIABLE FAILR
FROM MSM VARIABLE +4 PUFAI
  TO DETAILED AZI-PROPELLER GROUP 1 DEVICE 5 VARIABLE FAILR
FROM MSM VARIABLE +5 PUFAI
  TO DETAILED AZI-PROPELLER GROUP 1 DEVICE 6 VARIABLE FAILR
##  
## Failure flags, VS-prop
FROM MSM VARIABLE +0 PUFAI
  TO DETAILED VOITH-SCHNEIDER GROUP 1 DEVICE 1 VARIABLE FAILR
FROM MSM VARIABLE +1 PUFAI
  TO DETAILED VOITH-SCHNEIDER GROUP 1 DEVICE 2 VARIABLE FAILR
FROM MSM VARIABLE +2 PUFAI
  TO DETAILED VOITH-SCHNEIDER GROUP 1 DEVICE 3 VARIABLE FAILR
FROM MSM VARIABLE +3 PUFAI
  TO DETAILED VOITH-SCHNEIDER GROUP 1 DEVICE 4 VARIABLE FAILR
FROM MSM VARIABLE +4 PUFAI
  TO DETAILED VOITH-SCHNEIDER GROUP 1 DEVICE 5 VARIABLE FAILR
FROM MSM VARIABLE +5 PUFAI
  TO DETAILED VOITH-SCHNEIDER GROUP 1 DEVICE 6 VARIABLE FAILR
##  
## 
##         DAMAGE 
##         ======
## Message variable linked to two devices, which is not possible in 
## ncs_dmi_com.lod
##
FROM MSM VARIABLE +0 DAMAG
  TO DETAILED HULL-FORCE GROUP 1 DEVICE 1 VAR FD
FROM MSM VARIABLE +0 DAMAG
  TO DETAILED BODY GROUP 1 DEVICE 1 VAR FD
##
##
